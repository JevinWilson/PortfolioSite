<!DOCTYPE HTML>
<!--
	Forty by HTML5 UP
	html5up.net | @ajlkn
	Free for personal and commercial use under the CCA 3.0 license (html5up.net/license)
-->
<html>
	<head>
		<title>Data Cleaning</title>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />
		<link rel="stylesheet" href="assets/css/main.css" />
		<noscript><link rel="stylesheet" href="assets/css/noscript.css" /></noscript>
		<link rel="stylesheet" href="assets/css/custom.css" />
	</head>
	<body class="is-preload">

		<!-- Wrapper -->
			<div id="wrapper">

				<!-- Header -->
				<!-- Note: The "styleN" class below should match that of the banner element. -->
					<header id="header" class="alt style2">
						<a href="index.html" class="logo"><strong>Home</strong> <span></span></a>
						<nav>
							<a href="#menu">Menu</a>
						</nav>
					</header>

				<!-- Menu -->
					<nav id="menu">
						<ul class="links">
							<li><a href="index.html">Home</a></li>
							<li><a href="resume.html">Resume</a></li>
							<li><a href="index.html#one">Projects</a></li>
						</ul>
					</nav>

				<!-- Banner -->
				<!-- Note: The "styleN" class below should match that of the header element. -->
					<section id="banner" class="style2">
						<div class="inner">
							<span class="image">
								<img src="images/pic07.jpg" alt="" />
							</span>
							<header class="major">
								<h1>Data Cleaning</h1>
							</header>
							<div class="content">
								<p>July 10, 2025</p>
								<p>Data cleaning using SQL, Python, and Excel</p>
							</div>
						</div>
					</section>

				<!-- Main -->
					<div id="main">

						<!-- One -->
							<section id="one">
								<div class="inner">
									<header class="major">
										<h2>The Data Set Used</h2> 
										<a href="https://www.kaggle.com/datasets/ahmedmohamed2003/cafe-sales-dirty-data-for-cleaning-training" class="button">View Here</a>
									</header>
									<p>The Dirty Cafe Sales dataset contains 10,000 rows of synthetic data representing sales 
										transactions in a cafe. This dataset is intentionally "dirty," with missing values, 
										inconsistent data, and errors introduced to provide a realistic scenario for data 
										cleaning.
									</p>
									
									<table class="dataset-table">
										<thead>
											<tr>
												<th>Column Name</th>
												<th>Description</th>
												<th>Data Type</th>
											</tr>
										</thead>
										<tbody>
											<tr>
												<td class="Column-name">Transaction ID</td>
												<td>A unique identifier for each transaction. Always present and unique.</td>
												<td>text</td>
											</tr>
											<tr>
												<td class="Column-name">Item</td>
												<td>The name of the item purchased. May contain missing or invalid values (e.g., "ERROR").</td>
												<td>text</td>
											</tr>
											<tr>
												<td class="Column-name">Quantity</td>
												<td>The quantity of the item purchased. May contain missing or invalid values.</td>
												<td>int</td>
											</tr>
											<tr>
												<td class="Column-name">Price Per Unit</td>
												<td>The price of a single unit of the item. May contain missing or invalid values.</td>
												<td>double</td>
											</tr>
											<tr>
												<td class="Column-name">Total Spent</td>
												<td>The total amount spent on the transaction. Calculated as Quantity * Price Per Unit.</td>
												<td>text</td>
											</tr>
											<tr>
												<td class="Column-name">Payment Method</td>
												<td>The method of payment used. May contain missing or invalid values (e.g., None, "UNKNOWN").</td>
												<td>text</td>
											</tr>
											<tr>
												<td class="Column-name">Location</td>
												<td>The location where the transaction occurred. May contain missing or invalid values.</td>
												<td>text</td>
											</tr>
											<tr>
												<td class="Column-name">Transaction Date</td>
												<td>The date of the transaction. May contain missing or incorrect values.</td>
												<td>text</td>
											</tr>
										</tbody>

									</table>

								</div>
							</section>

						<!-- Two -->
							<section id="two" class="spotlights">
								<section>
									<div class="code-snippet">
										<pre><code>
create table dirty_cafe_sales_stagging
like dirty_cafe_sales;

insert dirty_cafe_sales_stagging
select *
from dirty_cafe_sales;

select * 
from dirty_cafe_sales_stagging; 
										</code></pre>
									</div>
									<div class="content">
										<div class="inner">
											<header class="major">
												<h3>Create Stagging Table</h3>
											</header>
											<p>In this code snippet I created a copy of the table to edit and stage changes on 
												to keep the original table/data safe.
											</p>
										</div>
									</div>
								</section>
								<section>
									<div class="code-snippet">
										<pre><code>
with duplicate_cte as 
(
select *, 
row_number() over(
	partition by
	`Transaction ID`, item, `Total Spent`, `Transaction Date`
) as row_num
from dirty_cafe_sales_stagging
)
select * 
from duplicate_cte
where row_num > 1;
										</code></pre>
									</div>
									<div class="content">
										<div class="inner">
											<header class="major">
												<h3>Removing Duplicates</h3>
											</header>
											<p>In this code snippet I checked for duplicates. I created a CTE and partitioned over
												'Transaction ID', 'item', 'Total Spent', and 'Transaction Date'. If 
												any rows have the same values in all 4 columns it would increment the 'row_num'
												column. I then filtered the output to show where 'row_num' is more than 1, 
												showing a duplicate row, and if there was then I would remove it.
											</p>
										</div>
									</div>
								</section>
								<section>
									<div class="code-snippet">
										<pre><code>
-- 1. 
update dirty_cafe_sales_stagging
set `Transaction ID` = trim(`Transaction ID`),
Item = trim(Item),
`Price Per Unit`=trim(`Price Per Unit`),
`Total Spent`=trim(`Total Spent`),
`Payment Method`=trim(`Payment Method`),
Location=trim(Location),
`Transaction Date`=trim(`Transaction Date`);
--2.
update dirty_cafe_sales_stagging
set `Transaction Date` = null 
where `Transaction Date` = 'ERROR' 
or `Transaction Date` = ''
or `Transaction Date` = 'UNKNOWN';

update dirty_cafe_sales_stagging
set `Transaction Date` = str_to_date(`Transaction Date`, '%Y-%m-%d');

alter table dirty_cafe_sales_stagging
modify `Transaction Date` date;
-- 3.
update dirty_cafe_sales_stagging
set `Total Spent` = null
where `Total Spent` not REGEXP '^[0-9]+\\.[0-9]+$';

alter table dirty_cafe_sales_stagging
modify `Total Spent` float;

update dirty_cafe_sales_stagging
set `Total Spent` = Quantity * `Price Per Unit`
where `Total Spent` is null;
										</code></pre>
									</div>
									<div class="content">
										<div class="inner">
											<header class="major">
												<h3>Standardizing Data</h3>
											</header>
											<p>1. Trim the leading and/or trailing whitespaces from all the columns</p>
											<p>2. Changed all the faulty 'Transaction Date' fields to 'null' values
												and changed the data type from 'text' to 'date' for future usability.
											</p>
											<p>3. Changed every value that wasn't in the Regex pattern to a null value and 
												then changed the changed the 'Total Spent' from a 'text' to 'float' data 
												type for future usability. And Calculated the null values since the all the 
												data for Calculating the field is given.
											</p>
											<p>4. I also handeled all the null values for the rest of the columns. 
												Getting rid of non-related columns is also possible but not needed.
											</p>
											
										</div>
									</div>
								</section>
							</section>

						

					</div>

				


			</div>

		<!-- Scripts -->
			<script src="assets/js/jquery.min.js"></script>
			<script src="assets/js/jquery.scrolly.min.js"></script>
			<script src="assets/js/jquery.scrollex.min.js"></script>
			<script src="assets/js/browser.min.js"></script>
			<script src="assets/js/breakpoints.min.js"></script>
			<script src="assets/js/util.js"></script>
			<script src="assets/js/main.js"></script>

	</body>
</html>